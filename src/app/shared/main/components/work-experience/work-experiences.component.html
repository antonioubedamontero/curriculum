@if (getDeveloperWorkExperiencesResource.hasValue()) {
<!-- TODO: Refactor to reduce complexity -->
<!-- TODO: Review work experience component tests and components depending on it -->
<!-- -->
<mat-accordion class="work-experience-section" multi>
  <h2 class="work-experience-section__title">
    <mat-icon
      aria-hidden="false"
      [ariaLabel]="'main.work-experience.aria.title' | translate"
      fontIcon="work"
    ></mat-icon>
    {{ "main.work-experience.title" | translate }}
  </h2>

  @for (categoryKey of workExperienceCategories(); track categoryKey) {
  <!-- -->
  <article>
    <mat-expansion-panel #expansionPanels class="work-experience-category">
      <mat-expansion-panel-header>
        <h3 class="work-experience-category__title">
          <mat-icon
            aria-hidden="false"
            [ariaLabel]="getCategory(categoryKey).sectionAriaTitle"
            [fontIcon]="getCategory(categoryKey).sectionIcon"
          ></mat-icon>
          {{ getCategory(categoryKey).sectionTitle }}
        </h3>
      </mat-expansion-panel-header>
      <ul class="category-work-experiences">
        @for (workExperience of getCategory(categoryKey).workExperiences; track
        $index) {
        <li>
          <app-work-experience-item
            [workExperience]="workExperience"
          ></app-work-experience-item>
        </li>
        }
      </ul>
    </mat-expansion-panel>
    <!-- -->
  </article>
  }
</mat-accordion>
<!-- -->
}
